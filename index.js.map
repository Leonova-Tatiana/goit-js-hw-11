{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport default function getImagesByQuery(query) {\n  axios.defaults.baseURL = 'https://pixabay.com/api/';\n  return axios\n    .get('', {\n      params: {\n        key: '50399513-0102622743a29b0122ce40bab',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 9,\n      },\n    })\n    .then(function (response) {\n      if (response.status !== 200) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.data;\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n    .finally(function () {\n      // always executed\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryList = document.querySelector('.gallery');\nlet galleryLib = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction capitalizeFirstLetter(string) {\n  if (!string) {\n    return string;\n  }\n  return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n}\n\nexport function createGallery(images) {\n  const markup = images\n    .map(image => {\n      const keysToShow = ['likes', 'views', 'comments', 'downloads'];\n      const infoMarkup = keysToShow\n        .map(\n          key =>\n            `<p class=\"info-item\">${capitalizeFirstLetter(\n              key\n            )}:<span class=\"info\">${image[key]}</span></p>`\n        )\n        .join('');\n      return `<li class=\"image-item\">\n    <a href=\"${image.largeImageURL}\" title=\"${image.tags}\">\n    <img src=\"${image.webformatURL}\" \n    alt=\"${image.tags}\"\n    />\n    </a>\n    <div class=\"gallery-info\">\n    ${infoMarkup}\n    </div>\n    </li>`;\n    })\n    .join('');\n  galleryList.insertAdjacentHTML('beforeend', markup);\n  galleryLib.refresh();\n}\n\nexport function clearGallery() {\n  galleryList.innerHTML = '';\n}\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.style.display = 'inline-block';\n  }\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.style.display = 'none';\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport getImagesByQuery from './js/pixabay-api.js';\n\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nconst formData = document.querySelector('.form');\nconst input = document.querySelector('input[name=\"search-text\"]');\nconst submitBtn = document.querySelector('button[type=\"submit\"]');\n\nsubmitBtn.disabled = input.value.trim() === '';\n\ninput.addEventListener('input', () => {\n  submitBtn.disabled = input.value.trim() === '';\n});\n\nformData.addEventListener('submit', ev => {\n  ev.preventDefault();\n  const query = input.value.trim();\n  if (query === '') {\n    submitBtn.disabled = true;\n    return;\n  }\n  clearGallery();\n  showLoader();\n  getImagesByQuery(query)\n    .then(data => {\n      hideLoader();\n      if (data.hits && data.hits.length > 0) {\n        createGallery(data.hits);\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      console.error(error);\n      hideLoader();\n    });\n});\nhideLoader();\n"],"names":["getImagesByQuery","query","axios","response","error","galleryList","galleryLib","SimpleLightbox","capitalizeFirstLetter","string","createGallery","images","markup","image","infoMarkup","key","clearGallery","showLoader","loader","hideLoader","formData","input","submitBtn","ev","data","iziToast"],"mappings":"owBAEe,SAASA,EAAiBC,EAAO,CAC9C,OAAAC,EAAM,SAAS,QAAU,2BAClBA,EACJ,IAAI,GAAI,CACP,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACX,CACF,CAAA,EACA,KAAK,SAAUE,EAAU,CACxB,GAAIA,EAAS,SAAW,IACtB,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,IACjB,CAAA,EACA,MAAM,SAAUC,EAAO,CACtB,QAAQ,IAAIA,CAAK,CAClB,CAAA,EACA,QAAQ,UAAY,CAEzB,CAAK,CACL,CCxBA,MAAMC,EAAc,SAAS,cAAc,UAAU,EACrD,IAAIC,EAAa,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAsBC,EAAQ,CACrC,OAAKA,GAGEA,EAAO,OAAO,CAAC,EAAE,cAAgBA,EAAO,MAAM,CAAC,EAAE,YAAa,CACvE,CAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IAAIE,GAAS,CAEZ,MAAMC,EADa,CAAC,QAAS,QAAS,WAAY,WAAW,EAE1D,IACCC,GACE,wBAAwBP,EACtBO,CACD,CAAA,uBAAuBF,EAAME,CAAG,CAAC,aAC9C,EACS,KAAK,EAAE,EACV,MAAO;AAAA,eACEF,EAAM,aAAa,YAAYA,EAAM,IAAI;AAAA,gBACxCA,EAAM,YAAY;AAAA,WACvBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,MAIfC,CAAU;AAAA;AAAA,UAGX,CAAA,EACA,KAAK,EAAE,EACVT,EAAY,mBAAmB,YAAaO,CAAM,EAClDN,EAAW,QAAS,CACtB,CAEO,SAASU,GAAe,CAC7BX,EAAY,UAAY,EAC1B,CACO,SAASY,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,IACFA,EAAO,MAAM,QAAU,eAE3B,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,IACFA,EAAO,MAAM,QAAU,OAE3B,CC/CA,MAAME,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAQ,SAAS,cAAc,2BAA2B,EAC1DC,EAAY,SAAS,cAAc,uBAAuB,EAEhEA,EAAU,SAAWD,EAAM,MAAM,KAAM,IAAK,GAE5CA,EAAM,iBAAiB,QAAS,IAAM,CACpCC,EAAU,SAAWD,EAAM,MAAM,KAAM,IAAK,EAC9C,CAAC,EAEDD,EAAS,iBAAiB,SAAUG,GAAM,CACxCA,EAAG,eAAgB,EACnB,MAAMtB,EAAQoB,EAAM,MAAM,KAAM,EAChC,GAAIpB,IAAU,GAAI,CAChBqB,EAAU,SAAW,GACrB,MACJ,CACEN,EAAc,EACdC,EAAY,EACZjB,EAAiBC,CAAK,EACnB,KAAKuB,GAAQ,CACZL,EAAY,EACRK,EAAK,MAAQA,EAAK,KAAK,OAAS,EAClCd,EAAcc,EAAK,IAAI,EAEvBC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,CAEJ,CAAA,EACA,MAAMrB,GAAS,CACdqB,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UAClB,CAAO,EACD,QAAQ,MAAMrB,CAAK,EACnBe,EAAY,CAClB,CAAK,CACL,CAAC,EACDA,EAAY"}